{% extends "base.html" %}
{% block content %}
<h2>Primas de {{ empleado.nombres }} {{ empleado.apellido_paterno }}</h2>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>A√±o</th>
      <th>Monto</th>
      <th>Estado</th>
      <th>Fecha de pago</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    {% for prima in primas %}
      <tr>
        <td>{{ prima.anio }}</td>
        <td>${{ prima.monto }}</td>
        <td>
          {% if prima.pagado %}
            <span class="text-success fw-bold">Pagado</span>
          {% else %}
            <span class="text-danger fw-bold">Pendiente</span>
          {% endif %}
        </td>
        <td>{{ prima.fecha_pago|default:"‚Äî" }}</td>
        <td>
          {% if not prima.pagado %}
            <a href="{% url 'marcar_prima_pagada' prima.id %}" class="btn btn-sm btn-success">‚úÖ Marcar como pagada</a>
          {% endif %}
          <a href="{% url 'documento_prima_pdf' prima.id %}" class="btn btn-sm btn-outline-secondary" target="_blank">
            üìÑ Descargar documento PDF
          </a>
        </td>
      </tr>
    {% empty %}
      <tr><td colspan="5">No hay primas registradas.</td></tr>
    {% endfor %}
  </tbody>
</table>

<a href="{% url 'primas_vacacionales' %}" class="btn btn-secondary">‚Üê Volver</a>
{% endblock %}
